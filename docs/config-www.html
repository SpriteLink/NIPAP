---
---
{% include header.html %}
<section>
<div class="container">


<div class="section" id="configuration-of-the-web-ui">
<h1>Configuration of the web UI</h1>
<p>Make sure the web UI is installed before proceeding with configuration of it.</p>
<p>The web interface needs its own user account to authenticate towards the
backend and it should be a <em>trusted</em> account. Create it with the following:</p>
<pre class="literal-block">
nipap-passwd add --username nipap-www --password s3cr3t --name &quot;User account for the web UI&quot; --trusted
</pre>
<p>Obviously, replace &quot;s3cr3t&quot; with a better password and feel free to use
whichever username you want, as long as you configure it accordingly. The user
account for the web UI should not be used by any other user. Configure
the web UI to use this account by configuring the xmlrpc_uri variable:</p>
<pre class="literal-block">
xmlrpc_uri = http://nipap-www&#64;local:s3cret&#64;127.0.0.1:1337
</pre>
<p>This configuring assumes that you did indeed name the account &quot;nipap-www&quot;,
replace &quot;s3cr3t&quot; with your password. &quot;&#64;local&quot; instructs the backend to use the
&quot;local&quot; authentication backend. If you are running nipapd on a different host
or port, then update the &quot;127.0.0.1:1337&quot; part accordingly.</p>
<p>Finally, you can add a user for yourself and once you've configured your web
server to serve the NIPAP web UI you should be able to login with this user:</p>
<pre class="literal-block">
nipap-passwd add --username myuser --password mypassword --name &quot;my user&quot;
</pre>
</div>
<div class="section" id="serving-the-web-ui">
<h1>Serving the web UI</h1>
<p>The NIPAP web UI can be served by any WGSI-capable web server such as Apache
httpd with mod_wsgi. For quick tests and development the lightweight server
'paster', part of Python Paste, is handy.</p>
<div class="section" id="paster">
<h2>paster</h2>
<p>Using paster is the easiest way to get the NIPAP web UI up and running, but
it's not really suitable for production deployment. To serve the NIPAP web UI
from paster, run the following:</p>
<pre class="literal-block">
paster serve /etc/nipap/nipap-www.ini
</pre>
<p>Using the default configuration, the web UI should now be reachable on port
5000. To change the port, edit /etc/nipap/nipap-www.ini.</p>
</div>
<div class="section" id="apache-httpd-with-mod-wsgi">
<h2>Apache httpd with mod_wsgi</h2>
<p>Begin by installing Apache httpd with mod_wsgi:</p>
<pre class="literal-block">
apt-get install libapache2-mod-wsgi
</pre>
<p>Then, add a new virtual host or configure the default one with the line:</p>
<pre class="literal-block">
WSGIScriptAlias / /etc/nipap/nipap-www.wsgi
</pre>
<p>If you are using Apache 2.4 you will also need to add the lines:</p>
<pre class="literal-block">
&lt;Directory /etc/nipap/&gt;
    Require all granted
&lt;/Directory&gt;
</pre>
<p>The web server needs to be able to write to its cache, alter the permissions of
/var/cache/nipap-www so that the web server can write to it and preferrably
also make sure no one else has access to it. For a typical Debian install of
Apache httpd, the following should suffice:</p>
<pre class="literal-block">
chown -R www-data:www-data /var/cache/nipap-www
chmod -R u=rwX /var/cache/nipap-www
</pre>
<p>Now, restart Apache httpd and the NIPAP web UI should be up and running!</p>
<p>That wraps up this getting started guide, for more information see the manual
pages.</p>
</div>
</div>
</div>

</section>
{% include footer.html %}
